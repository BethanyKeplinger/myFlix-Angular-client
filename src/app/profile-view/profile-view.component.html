<app-toolbar></app-toolbar>

<div class="user-profile">

    <div class="favorites-header">
        <h1 class="favorites-title"><b>MY PROFILE</b></h1>
    </div>

    <mat-card class="profile-card">

        <mat-card-content class="profile-card-content">
            <p><b>Username:</b> {{user.Username}}</p>
            <p><b>Email:</b> {{user.Email}}</p>
            <p><b>Birthday:</b> {{user.Birthday | date}}</p>

        </mat-card-content>

        <mat-card-actions>
            <button class="edit-button" mat-raised-button (click)="openEditProfileDialog()"> Edit Profile
            </button>

            <button class="delete-button" mat-raised-button (click)="deleteProfile()"> Delete Profile
            </button>


        </mat-card-actions>

    </mat-card>

    <div class="favorites-header">
        <h1 class="favorites-title"><b>MY FAVORITE MOVIES</b></h1>
    </div>

    <div *ngIf="displayElement" class="profile-movie-card" style="display: flex;">


        <mat-card class="favorites-card" *ngFor="let movie of favoriteMovies">

            <mat-card-header>
                <mat-card-title>{{movie.Title}}</mat-card-title>
                <mat-card-subtitle>Directed by: {{movie.Director.Name}}</mat-card-subtitle>
            </mat-card-header>


            <img mat-card-lg-image src={{movie.ImagePath}} alt={{movie.Title}} />

            <mat-card-actions>

                <button mat-button color="basic" (click)="openGenreDialog(movie.Genre.Name, movie.Genre.Description)">
                    Genre
                </button>

                <button mat-button color="basic"
                    (click)="openDirectorDialog(movie.Director.Name, movie.Director.Bio, movie.Director.Birth)">
                    Director
                </button>

                <button mat-button color="basic" (click)="openSynopsisDialog(movie.Title, movie.Description)">
                    Synopsis
                </button>

                <!--Remove favorite movie from list -->
                <button mat-icon-button>

                    <mat-icon (click)="removeFavMovie(movie._id)" class="favorites-button">
                        favorite
                    </mat-icon>
                </button>

            </mat-card-actions>

        </mat-card>


    </div>